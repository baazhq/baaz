apiVersion: datainfra.io/v1
kind: Environment
metadata:
  labels:
    app.kubernetes.io/name: environment
    app.kubernetes.io/instance: environment-sample
    app.kubernetes.io/part-of: ballastdata
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/created-by: ballastdata
  name: environment-dev
  namespace: demo
spec:
  envType: dev
  cloudInfra:
    type: aws
    awsRegion: us-east-1
    authSecretRef:
      secretName: aws-secret
      accessKeyName: accessKey
      secretKeyName: secretKey
    eks:
      name: dev-eks-pulak
      subnetIds:
      - subnet-0c5f93cb1a6f23067
      - subnet-05edde4b86a073f75
      securityGroupIds:
      - sg-0aa6fc40e072f8fbc
      roleArn: "arn:aws:iam::437639712640:role/pulak-eks-role"
      version: "1.25"
  application:
    - name: clickhouse-datascience
      appType: ClickHouse
      size: clickhouse-small
  size:
    - name: clickhouse-small
      spec:
        appType: ClickHouse
        nodes:
          nodeLabels:
            app: clickhouse
          nodeSize: t2.small
          min: 1
          max: 3
